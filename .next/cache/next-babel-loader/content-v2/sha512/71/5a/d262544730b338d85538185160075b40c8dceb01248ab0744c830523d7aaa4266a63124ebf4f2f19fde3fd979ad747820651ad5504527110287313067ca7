{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Subhash Kumar/Desktop/Projects/qex-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Subhash Kumar/Desktop/Projects/qex-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Subhash Kumar\\\\Desktop\\\\Projects\\\\qex-frontend\\\\pages\\\\dashboard.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { AuthProvider, useAuth } from \"../context/AuthContext\";\nimport Navbar from \"../components/Navbar\";\nimport Dashboard from \"../components/dashboard\";\nimport fetch from \"isomorphic-fetch\";\n\nvar Page = function Page(props) {\n  _s();\n\n  var _useAuth = useAuth(),\n      currentUser = _useAuth.currentUser;\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !currentUser ? /*#__PURE__*/_jsxDEV(AuthProvider, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Dashboard, {\n        data: props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }, _this) : Router.push(\"/login\")\n  }, void 0, false);\n};\n\n_s(Page, \"byfRDkJ+t3MKhIwXgwbXYFaZtD0=\", false, function () {\n  return [useAuth];\n});\n\n_c = Page;\nPage.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var url, apiKey, ab, res, data;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          url = process.env.NEXT_PUBLIC_API_URL;\n          apiKey = process.env.NEXT_PUBLIC_API_KEY;\n          ab = \"https://newsapi.org/v2/top-headlines?country=ru&apiKey=e0ce93ba8b3f4a06816e35f9e4bc3ede\";\n          _context.next = 5;\n          return fetch(\"https://newsapi.org/v2/top-headlines?country=ru&apiKey=e0ce93ba8b3f4a06816e35f9e4bc3ede\");\n\n        case 5:\n          res = _context.sent;\n          _context.next = 8;\n          return res.json();\n\n        case 8:\n          data = _context.sent;\n\n          if (data) {\n            _context.next = 11;\n            break;\n          }\n\n          return _context.abrupt(\"return\", {\n            notFound: true\n          });\n\n        case 11:\n          return _context.abrupt(\"return\", {\n            news: data // will be passed to the page component as props\n\n          });\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Page;\n\nvar _c;\n\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"sources":["C:/Users/Subhash Kumar/Desktop/Projects/qex-frontend/pages/dashboard.js"],"names":["AuthProvider","useAuth","Navbar","Dashboard","fetch","Page","props","currentUser","Router","push","getInitialProps","url","process","env","NEXT_PUBLIC_API_URL","apiKey","NEXT_PUBLIC_API_KEY","ab","res","json","data","notFound","news"],"mappings":";;;;;;;;;AAAA,SAASA,YAAT,EAAuBC,OAAvB,QAAsC,wBAAtC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD,EAAW;AAAA;;AAAA,iBACEL,OAAO,EADT;AAAA,MACdM,WADc,YACdA,WADc;;AAGtB,sBACE;AAAA,cACG,CAACA,WAAD,gBACC,QAAC,YAAD;AAAA,8BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,QAAC,SAAD;AAAW,QAAA,IAAI,EAAED;AAAjB;AAAA;AAAA;AAAA;AAAA,eAFF;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,GAMCE,MAAM,CAACC,IAAP,CAAY,QAAZ;AAPJ,mBADF;AAYD,CAfD;;GAAMJ,I;UACoBJ,O;;;KADpBI,I;AAgBNA,IAAI,CAACK,eAAL,yEAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AACfC,UAAAA,GADe,GACTC,OAAO,CAACC,GAAR,CAAYC,mBADH;AAEfC,UAAAA,MAFe,GAENH,OAAO,CAACC,GAAR,CAAYG,mBAFN;AAGfC,UAAAA,EAHe,GAInB,yFAJmB;AAAA;AAAA,iBAKHb,KAAK,CACrB,yFADqB,CALF;;AAAA;AAKfc,UAAAA,GALe;AAAA;AAAA,iBAQFA,GAAG,CAACC,IAAJ,EARE;;AAAA;AAQfC,UAAAA,IARe;;AAAA,cAShBA,IATgB;AAAA;AAAA;AAAA;;AAAA,2CAUZ;AACLC,YAAAA,QAAQ,EAAE;AADL,WAVY;;AAAA;AAAA,2CAed;AACLC,YAAAA,IAAI,EAAEF,IADD,CACO;;AADP,WAfc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB;AAmBA,eAAef,IAAf","sourcesContent":["import { AuthProvider, useAuth } from \"../context/AuthContext\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Dashboard from \"../components/dashboard\";\r\nimport fetch from \"isomorphic-fetch\";\r\nconst Page = (props) => {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (\r\n    <>\r\n      {!currentUser ? (\r\n        <AuthProvider>\r\n          <Navbar />\r\n          <Dashboard data={props} />\r\n        </AuthProvider>\r\n      ) : (\r\n        Router.push(\"/login\")\r\n      )}\r\n    </>\r\n  );\r\n};\r\nPage.getInitialProps = async function () {\r\n  const url = process.env.NEXT_PUBLIC_API_URL;\r\n  const apiKey = process.env.NEXT_PUBLIC_API_KEY;\r\n  const ab =\r\n    \"https://newsapi.org/v2/top-headlines?country=ru&apiKey=e0ce93ba8b3f4a06816e35f9e4bc3ede\";\r\n  const res = await fetch(\r\n    \"https://newsapi.org/v2/top-headlines?country=ru&apiKey=e0ce93ba8b3f4a06816e35f9e4bc3ede\"\r\n  );\r\n  const data = await res.json();\r\n  if (!data) {\r\n    return {\r\n      notFound: true,\r\n    };\r\n  }\r\n\r\n  return {\r\n    news: data, // will be passed to the page component as props\r\n  };\r\n};\r\nexport default Page;\r\n"]},"metadata":{},"sourceType":"module"}